var essb_subscribe_opened={},essb_subscribe_popup_close=function(e){jQuery(".essb-subscribe-form-"+e).fadeOut(400),jQuery(".essb-subscribe-form-overlay-"+e).fadeOut(400)},essb_toggle_subscribe=function(e){if(jQuery(".essb-subscribe-form-"+e).length){jQuery.fn.extend({center:function(){return this.each(function(){var e=(jQuery(window).height()-jQuery(this).outerHeight())/2,s=(jQuery(window).width()-jQuery(this).outerWidth())/2;jQuery(this).css({position:"fixed",margin:0,top:(e>0?e:0)+"px",left:(s>0?s:0)+"px"})})}});var s=jQuery(".essb-subscribe-form-"+e).attr("data-popup")||"";if("1"!=s)jQuery(".essb-subscribe-form-"+e).hasClass("essb-subscribe-opened")?(jQuery(".essb-subscribe-form-"+e).slideUp("fast"),jQuery(".essb-subscribe-form-"+e).removeClass("essb-subscribe-opened")):(jQuery(".essb-subscribe-form-"+e).slideDown("fast"),jQuery(".essb-subscribe-form-"+e).addClass("essb-subscribe-opened"),essb_subscribe_opened[e]||(essb_subscribe_opened[e]=e,essb_tracking_only("","subscribe",e,!0)));else{var r=jQuery(window).width(),b=(jQuery("document").height(),600);b>r&&(b=r-40),jQuery(".essb-subscribe-form-"+e).css({width:b+"px"}),jQuery(".essb-subscribe-form-"+e).center(),jQuery(".essb-subscribe-form-"+e).fadeIn(400),jQuery(".essb-subscribe-form-overlay-"+e).fadeIn(200)}}},essb_ajax_subscribe=function(e,s){s.preventDefault();var r=jQuery(".essb-subscribe-form-"+e+" #essb-subscribe-from-content-form-mailchimp");if(r.length){var b=jQuery(r).find(".essb-subscribe-form-content-email-field").val(),i=jQuery(r).find(".essb-subscribe-form-content-name-field").length?jQuery(r).find(".essb-subscribe-form-content-name-field").val():"";jQuery(r).find(".submit").prop("disabled",!0),jQuery(r).hide(),jQuery(".essb-subscribe-form-"+e).find(".essb-subscribe-loader").show();var u=r.attr("action")+"&mailchimp_email="+b+"&mailchimp_name="+i;jQuery.post(u,{mailchimp_email1:b,mailchimp_name1:i},function(s){s&&(console.log(s),"1"==s.code?jQuery(".essb-subscribe-form-"+e).find(".essb-subscribe-form-content-success").show():(jQuery(".essb-subscribe-form-"+e).find(".essb-subscribe-form-content-error").append(": <span>"+s.message+"</span>"),jQuery(".essb-subscribe-form-"+e).find(".essb-subscribe-form-content-error").show()),jQuery(".essb-subscribe-form-"+e).find(".essb-subscribe-loader").hide(),jQuery(r).hide())},"json")}};