/*! jnewsbar 2014-10-02 */
"function"!=typeof Object.create&&(Object.create=function(a){function b(){}return b.prototype=a,new b}),function(a,b){var c={init:function(c,d){var e=this;e.elem=d,e.$elem=a(d),e.options=a.extend({onHover:function(){}},a.fn.jNewsbar.options,c),e.options.pauseTime=e.options.pauseTime+e.options.animSpeed,e.buildFrag(),e.display(),a(b).resize(function(){e.buildFrag()})},buildFrag:function(){var a=this,b=0,c=0,d=0;a.$elem.addClass("jnewsbar jnews-"+a.options.theme+" jnews-"+a.options.position+" jnews-"+a.options.effect).css(a.options.position,0).animate({opacity:1},750),a.$elem.find(".jnewsbar-title").length<=0&&a.$elem.find("h2").wrap('<div class="jnewsbar-title"></div>').css({height:a.options.height+"px","line-height":a.options.height+"px"}),a.$elem.find("ul").wrap("<div></div>").addClass("jnewsbar-items"),a.$elem.css({height:a.options.height+10+"px","line-height":a.options.height+"px"}),a.$elem.find("li").css({height:a.options.height+"px","line-height":a.options.height+"px",overflow:"hidden"}),a.$elem.append(a.buildControls()),b=a.$elem.innerWidth(),c=a.$elem.find(".jnewsbar-title").innerWidth(),d=a.$elem.find(".jnewsbar-navigate").innerWidth(),a.$elem.find(".jnewsbar-items").css({"max-width":b-5-(c+d)+"px"})},buildControls:function(){var a=this;return a.$elem.find(".jnewsbar-navigate").length<=0?'<div class="jnewsbar-navigate" style="height: '+(a.options.height+5)+"px;line-height:"+(a.options.height+5)+'px;"><a href="#" class="prev" alt="Previous"><i class="jnewsbar-icon jnewsbar-icon-left-open-big"></i></a> <a href="#" class="next" alt="Next"><i class="jnewsbar-icon jnewsbar-icon-right-open-big"></i></a> <a href="#" class="toggle" alt="Toggle"><i class="jnewsbar-icon jnewsbar-icon-up-open-big"></i></a></div>':void 0},display:function(){var b=this;b.reverseOrder(),b.pauseOnhover(),b.$elem.find(".jnewsbar-navigate .next").on("click",function(a){switch(b.options.effect){case"slideDown":b.prev();break;default:b.next()}b.removeInterval(),b.setInterval(),a.preventDefault()}),b.$elem.find(".jnewsbar-navigate .prev").on("click",function(a){switch(b.options.effect){case"slideDown":b.next();break;default:b.prev()}b.removeInterval(),b.setInterval(),a.preventDefault()}),b.$elem.find(".jnewsbar-navigate .toggle").on("click",function(c){var d=b.options.height*b.options.toggleItems;b.$elem.hasClass("opened")?(b.$elem.removeClass("opened"),a(this).removeClass("open"),b.$elem.animate({height:b.options.height+10+"px"},b.options.animSpeed).find(".jnewsbar-title h2, .jnewsbar-navigate").animate({height:b.options.height+"px","line-height":b.options.height+"px"},b.options.animSpeed)):(b.$elem.addClass("opened"),a(this).addClass("open"),b.$elem.animate({height:d+5+"px"},b.options.animSpeed).find(".jnewsbar-title h2, .jnewsbar-navigate").animate({height:d+"px","line-height":d+"px"},b.options.animSpeed)),c.preventDefault()}),b.setInterval()},tick:function(){var b=this;switch(b.options.effect){case"slideDown":b.prev();break;case"fade":b.$elem.find("li:first").animate({opacity:0},b.options.animSpeed,function(){a(this).appendTo(b.$elem.find("ul.jnewsbar-items")).css("opacity",1)});break;default:b.next()}},setInterval:function(){var a=this;$setInterval=setInterval(function(){a.tick()},a.options.pauseTime),a.$elem.attr("data-id",$setInterval)},removeInterval:function(){var a=this;b.clearInterval(a.$elem.attr("data-id"))},pauseOnhover:function(){var b=this,c=0;b.options.pauseOnHover&&b.$elem.find("li").on("hover mouseover mouseup",function(){b.removeInterval(),0==c&&(a(this).addClass("hovered"),b.options.onHover.call(b)),c++}).on("mouseout mousedown",function(){b.setInterval(),b.$elem.find("li").removeClass("hovered"),c=0})},prev:function(){var a=this;a.$elem.find(".jnewsbar-items").css("margin-top",-a.options.height+"px"),a.$elem.find(".jnewsbar-items li:last").prependTo(a.$elem.find(".jnewsbar-items")),a.$elem.find(".jnewsbar-items").animate({marginTop:"0px"},a.options.animSpeed,"linear",function(){})},next:function(){var b=this;b.$elem.find(".jnewsbar-items").animate({marginTop:-b.options.height+"px"},b.options.animSpeed,"linear",function(){a(this).find("li:first").appendTo(this).hide().fadeIn(300),a(this).css("margin-top",0)})},reverseOrder:function(){var b=this;if("slideDown"==b.options.effect){var c=b.$elem.find(".jnewsbar-items"),d=c.children("li");c.append(d.get().reverse()),a(b.$elem.find(".jnewsbar-items li:last")).prependTo(c)}}};a.fn.jNewsbar=function(b){return this.each(function(){var d=Object.create(c);d.init(b,this),a.data(this,"jNewsbar",d)})},a.fn.jNewsbar.options={position:"bottom",effect:"slideUp",height:24,animSpeed:600,pauseTime:3e3,pauseOnHover:!0,toggleItems:5,theme:"dark"}}(jQuery,window,document);